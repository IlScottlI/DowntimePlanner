(function(factory){if(typeof define==="function"&&define.amd){define(["../cldr"],factory)}else if(typeof module==="object"&&typeof module.exports==="object"){module.exports=factory(require("cldrjs"))}else{factory(Cldr)}})(function(Cldr){var pathNormalize=Cldr._pathNormalize,validatePresence=Cldr._validatePresence,validateType=Cldr._validateType;var EventEmitter;EventEmitter=function(){function EventEmitter(){}var proto=EventEmitter.prototype;var exports=this;var originalGlobalValue=exports.EventEmitter;function indexOfListener(listeners,listener){var i=listeners.length;while(i--){if(listeners[i].listener===listener){return i}}return-1}function alias(name){return function aliasClosure(){return this[name].apply(this,arguments)}}proto.getListeners=function getListeners(evt){var events=this._getEvents();var response;var key;if(evt instanceof RegExp){response={};for(key in events){if(events.hasOwnProperty(key)&&evt.test(key)){response[key]=events[key]}}}else{response=events[evt]||(events[evt]=[])}return response};proto.flattenListeners=function flattenListeners(listeners){var flatListeners=[];var i;for(i=0;i<listeners.length;i+=1){flatListeners.push(listeners[i].listener)}return flatListeners};proto.getListenersAsObject=function getListenersAsObject(evt){var listeners=this.getListeners(evt);var response;if(listeners instanceof Array){response={};response[evt]=listeners}return response||listeners};proto.addListener=function addListener(evt,listener){var listeners=this.getListenersAsObject(evt);var listenerIsWrapped=typeof listener==="object";var key;for(key in listeners){if(listeners.hasOwnProperty(key)&&indexOfListener(listeners[key],listener)===-1){listeners[key].push(listenerIsWrapped?listener:{listener:listener,once:false})}}return this};proto.on=alias("addListener");proto.addOnceListener=function addOnceListener(evt,listener){return this.addListener(evt,{listener:listener,once:true})};proto.once=alias("addOnceListener");proto.defineEvent=function defineEvent(evt){this.getListeners(evt);return this};proto.defineEvents=function defineEvents(evts){for(var i=0;i<evts.length;i+=1){this.defineEvent(evts[i])}return this};proto.removeListener=function removeListener(evt,listener){var listeners=this.getListenersAsObject(evt);var index;var key;for(key in listeners){if(listeners.hasOwnProperty(key)){index=indexOfListener(listeners[key],listener);if(index!==-1){listeners[key].splice(index,1)}}}return this};proto.off=alias("removeListener");proto.addListeners=function addListeners(evt,listeners){return this.manipulateListeners(false,evt,listeners)};proto.removeListeners=function removeListeners(evt,listeners){return this.manipulateListeners(true,evt,listeners)};proto.manipulateListeners=function manipulateListeners(remove,evt,listeners){var i;var value;var single=remove?this.removeListener:this.addListener;var multiple=remove?this.removeListeners:this.addListeners;if(typeof evt==="object"&&!(evt instanceof RegExp)){for(i in evt){if(evt.hasOwnProperty(i)&&(value=evt[i])){if(typeof value==="function"){single.call(this,i,value)}else{multiple.call(this,i,value)}}}}else{i=listeners.length;while(i--){single.call(this,evt,listeners[i])}}return this};proto.removeEvent=function removeEvent(evt){var type=typeof evt;var events=this._getEvents();var key;if(type==="string"){delete events[evt]}else if(evt instanceof RegExp){for(key in events){if(events.hasOwnProperty(key)&&evt.test(key)){delete events[key]}}}else{delete this._events}return this};proto.removeAllListeners=alias("removeEvent");proto.emitEvent=function emitEvent(evt,args){var listeners=this.getListenersAsObject(evt);var listener;var i;var key;var response;for(key in listeners){if(listeners.hasOwnProperty(key)){i=listeners[key].length;while(i--){listener=listeners[key][i];if(listener.once===true){this.removeListener(evt,listener.listener)}response=listener.listener.apply(this,args||[]);if(response===this._getOnceReturnValue()){this.removeListener(evt,listener.listener)}}}}return this};proto.trigger=alias("emitEvent");proto.emit=function emit(evt){var args=Array.prototype.slice.call(arguments,1);return this.emitEvent(evt,args)};proto.setOnceReturnValue=function setOnceReturnValue(value){this._onceReturnValue=value;return this};proto._getOnceReturnValue=function _getOnceReturnValue(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue}else{return true}};proto._getEvents=function _getEvents(){return this._events||(this._events={})};EventEmitter.noConflict=function noConflict(){exports.EventEmitter=originalGlobalValue;return EventEmitter};return EventEmitter}();var validateTypeFunction=function(value,name){validateType(value,name,typeof value==="undefined"||typeof value==="function","Function")};var superGet,superInit,globalEe=new EventEmitter;function validateTypeEvent(value,name){validateType(value,name,typeof value==="string"||value instanceof RegExp,"String or RegExp")}function validateThenCall(method,self){return function(event,listener){validatePresence(event,"event");validateTypeEvent(event,"event");validatePresence(listener,"listener");validateTypeFunction(listener,"listener");return self[method].apply(self,arguments)}}function off(self){return validateThenCall("off",self)}function on(self){return validateThenCall("on",self)}function once(self){return validateThenCall("once",self)}Cldr.off=off(globalEe);Cldr.on=on(globalEe);Cldr.once=once(globalEe);superInit=Cldr.prototype.init;Cldr.prototype.init=function(){var ee;this.ee=ee=new EventEmitter;this.off=off(ee);this.on=on(ee);this.once=once(ee);superInit.apply(this,arguments)};function getOverload(){superGet=Cldr.prototype.get;Cldr.prototype.get=function(path){var value=superGet.apply(this,arguments);path=pathNormalize(path,this.attributes).join("/");globalEe.trigger("get",[path,value]);this.ee.trigger("get",[path,value]);return value}}Cldr._eventInit=getOverload;getOverload();return Cldr});
(function(factory){if(typeof define==="function"&&define.amd){define(["../cldr"],factory)}else if(typeof module==="object"&&typeof module.exports==="object"){module.exports=factory(require("cldrjs"))}else{factory(Cldr)}})(function(Cldr){var alwaysArray=Cldr._alwaysArray;var supplementalMain=function(cldr){var prepend,supplemental;prepend=function(prepend){return function(path){path=alwaysArray(path);return cldr.get([prepend].concat(path))}};supplemental=prepend("supplemental");supplemental.weekData=prepend("supplemental/weekData");supplemental.weekData.firstDay=function(){return cldr.get("supplemental/weekData/firstDay/{territory}")||cldr.get("supplemental/weekData/firstDay/001")};supplemental.weekData.minDays=function(){var minDays=cldr.get("supplemental/weekData/minDays/{territory}")||cldr.get("supplemental/weekData/minDays/001");return parseInt(minDays,10)};supplemental.timeData=prepend("supplemental/timeData");supplemental.timeData.allowed=function(){return cldr.get("supplemental/timeData/{territory}/_allowed")||cldr.get("supplemental/timeData/001/_allowed")};supplemental.timeData.preferred=function(){return cldr.get("supplemental/timeData/{territory}/_preferred")||cldr.get("supplemental/timeData/001/_preferred")};return supplemental};var initSuper=Cldr.prototype.init;Cldr.prototype.init=function(){initSuper.apply(this,arguments);this.supplemental=supplementalMain(this)};return Cldr});
(function(factory){if(typeof define==="function"&&define.amd){define(["../cldr"],factory)}else if(typeof module==="object"&&typeof module.exports==="object"){module.exports=factory(require("cldrjs"))}else{factory(Cldr)}})(function(Cldr){var coreLoad=Cldr._coreLoad;var jsonMerge=Cldr._jsonMerge;var pathNormalize=Cldr._pathNormalize;var resourceGet=Cldr._resourceGet;var validatePresence=Cldr._validatePresence;var validateTypePath=Cldr._validateTypePath;var bundleParentLookup=function(Cldr,locale){var normalizedPath,parent;if(locale==="root"){return}normalizedPath=pathNormalize(["supplemental/parentLocales/parentLocale",locale]);parent=resourceGet(Cldr._resolved,normalizedPath)||resourceGet(Cldr._raw,normalizedPath);if(parent){return parent}parent=locale.substr(0,locale.lastIndexOf(Cldr.localeSep));if(!parent){return"root"}return parent};var resourceSet=function(data,path,value){var i,node=data,length=path.length;for(i=0;i<length-1;i++){if(!node[path[i]]){node[path[i]]={}}node=node[path[i]]}node[path[i]]=value};var itemLookup=function(){var lookup;lookup=function(Cldr,locale,path,attributes,childLocale){var normalizedPath,parent,value;if(typeof locale==="undefined"||locale===childLocale){return}normalizedPath=pathNormalize(path,attributes);value=resourceGet(Cldr._resolved,normalizedPath);if(value&&typeof value!=="object"){return value}value=resourceGet(Cldr._raw,normalizedPath);if(!value){parent=bundleParentLookup(Cldr,locale);value=lookup(Cldr,parent,path,jsonMerge(attributes,{bundle:parent}),locale)}if(value){resourceSet(Cldr._resolved,normalizedPath,value)}return value};return lookup}();Cldr._raw={};Cldr.load=function(){Cldr._raw=coreLoad(Cldr,Cldr._raw,arguments)};Cldr.prototype.get=function(path){validatePresence(path,"path");validateTypePath(path,"path");return itemLookup(Cldr,this.attributes&&this.attributes.bundle||"",path,this.attributes)};if(Cldr._eventInit){Cldr._eventInit()}return Cldr});
